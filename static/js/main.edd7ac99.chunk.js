(this["webpackJsonprick-morty-tsx"]=this["webpackJsonprick-morty-tsx"]||[]).push([[0],{30:function(e,t,s){},55:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(0),c=s.n(a),r=s(10),i=s.n(r),o=(s(30),s(6)),d=s(23),j=s(24),l=s(3),u={episodes:[],favorites:[]},b=c.a.createContext(u);function p(e,t){switch(t.type){case"FETCH_DATA":return Object(l.a)(Object(l.a)({},e),{},{episodes:t.payload});case"ADD_FAV":return Object(l.a)(Object(l.a)({},e),{},{favorites:[].concat(Object(j.a)(e.favorites),[t.payload])});case"REMOVE_FAV":return Object(l.a)(Object(l.a)({},e),{},{favorites:t.payload});default:return e}}function h(e){var t=c.a.useReducer(p,u),s=Object(d.a)(t,2),a=s[0],r=s[1];return Object(n.jsx)(b.Provider,{value:{state:a,dispatch:r},children:e.children})}var O=function(e){var t=Object(a.useContext)(b).state;return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)(o.a,{to:"/",className:"anchor",children:Object(n.jsx)("h1",{children:"Rick and Morty"})}),0===t.favorites.length?Object(n.jsx)("p",{children:"Pick your favorite episode"}):Object(n.jsx)(o.a,{to:"/favorites",className:"anchor",children:Object(n.jsxs)("p",{children:["Fav Episodes: ",t.favorites.length]})})]}),e.children]})},f=function(e){e&&e instanceof Function&&s.e(5).then(s.bind(null,58)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))},m=s(9),v=s.n(m),x=s(21),y=s(22),g=s.n(y),F=Object(a.lazy)((function(){return Promise.all([s.e(3),s.e(4)]).then(s.bind(null,59))})),C=function(){var e=Object(a.useContext)(b),t=e.state,s=e.dispatch;Object(a.useEffect)((function(){0===t.episodes.length&&c()}));var c=function(){var e=Object(x.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes",e.next=3,g.a.get("https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes");case 3:return t=e.sent,n=t.data,e.abrupt("return",s({type:"FETCH_DATA",payload:n._embedded.episodes}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r={episodes:t.episodes,toggleFavAction:function(e){var n=t.favorites.includes(e),a={type:"ADD_FAV",payload:e};n&&(a={type:"REMOVE_FAV",payload:t.favorites.filter((function(t){return t.id!==e.id}))});return s(a)},favorites:t.favorites};return console.log(t),Object(n.jsx)(a.Fragment,{children:Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)("div",{children:"Loading..."}),children:Object(n.jsx)("section",{className:"episodes-layout",children:Object(n.jsx)(F,Object(l.a)({},r))})})})},A=function(){var e=Object(a.useContext)(b).state;return Object(n.jsx)("section",{className:"episodes-layout",children:e.favorites.map((function(e){return Object(n.jsxs)("section",{className:"episodes-box",children:[Object(n.jsx)("img",{src:e.image.medium,alt:e.name}),Object(n.jsxs)("div",{children:["Episode Name:",e.name]}),Object(n.jsxs)("section",{style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)("div",{children:["Season: ",e.season,", Number: ",e.number]}),Object(n.jsx)("button",{className:"favOn",children:"Fav"})]})]})}))})},k=function(e){return e.pageComponent};i.a.render(Object(n.jsx)(h,{children:Object(n.jsx)(o.b,{children:Object(n.jsxs)(O,{path:"/",children:[Object(n.jsx)(k,{pageComponent:Object(n.jsx)(C,{}),path:"/"}),Object(n.jsx)(k,{pageComponent:Object(n.jsx)(A,{}),path:"/favorites"})]})})}),document.getElementById("root")),f()}},[[55,1,2]]]);
//# sourceMappingURL=main.edd7ac99.chunk.js.map